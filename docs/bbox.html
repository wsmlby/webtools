<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Online Image BBox Overlay & Measure</title>
<meta name="description" content="Use our free online tools to annotate images with bounding boxes for machine learning, computer vision, and design projects.">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192" />
<link rel="shortcut icon" href="/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<meta name="apple-mobile-web-app-title" content="Webtools" />
<link rel="manifest" href="/site.webmanifest" />
<!-- Canonical URL -->
<link rel="canonical" href="https://wsmlby.github.io/webtools/bbox.html">

<!-- Meta Robots -->
<meta name="robots" content="index, follow">

<meta name="keywords" content="bounding box, bbox, marker, overlay, image, online, tool, image annotation, online tools">


<!-- Open Graph Tags -->
<meta property="og:title" content="Online Image BBox Overlay & Measure">
<meta property="og:description" content="Use our free online tools to annotate images with bounding boxes for machine learning, computer vision, and design projects.">
<meta property="og:image" content="https://wsmlby.github.io/webtools/imgs/bbox.html.png">
<meta property="og:url" content="https://wsmlby.github.io/webtools/bbox.html">
<meta property="og:type" content="website">

<!-- Twitter Card Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Online Image BBox Overlay & Measure">
<meta name="twitter:description" content="Use our free online tools to annotate images with bounding boxes for machine learning, computer vision, and design projects.">
<meta name="twitter:image" content="https://wsmlby.github.io/webtools/imgs/bbox.html.png">

<!-- Structured Data Example (JSON-LD) -->
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Online Image BBox Overlay & Measure",
    "description": "Use our free online tools to annotate images with bounding boxes for machine learning, computer vision, and design projects.",
    "url": "https://wsmlby.github.io/webtools/bbox.html"
  }
  </script>
  <link rel="preconnect" href="https://www.googletagmanager.com">
  <meta name="viewport" content="width=device-width">
  <style>
    body {
      font-family: sans-serif;
      margin: 20px;
    }

    /* Hide container until an image is loaded */
    #container {
      position: relative;
      display: none;
      border: 1px solid #ccc;
      margin-top: 10px;
    }

    #image {
      display: block;
    }

    .overlay {
      position: absolute;
      background-color: rgba(255, 0, 0, 0.5);
      pointer-events: none;
    }

    input[type="text"] {
      width: 200px;
    }

    button {
      margin-left: 5px;
      margin-top: 5px;
    }
    .readbox {
      width: 640px;
    }
  </style>
  
  <style>
/* Sidebar styling */
#sidebar {
position: fixed;
top: 0;
left: 0;
width: 240px;
height: 100%;
background-color: #fafafa;
padding: 40px 20px;
box-sizing: border-box;
box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
}
/* Section header styling */
#sidebar h2 {
font-size: 18px;
margin-top: 0;
color: #444;
border-bottom: 1px solid #e1e4e8;
padding-bottom: 5px;
margin-bottom: 15px;
}
/* List styling */
#sidebar ul {
list-style: none;
margin: 0;
padding: 0;
}
#sidebar ul li {
margin: 10px 0;
}
#sidebar ul li a {
text-decoration: none;
font-size: 16px;
color: #555;
padding: 5px;
transition: background-color 0.3s, color 0.3s;
display: block;
border-radius: 4px;
}
#sidebar ul li a:hover {
background-color: #0366d6;
color: #fff;
}
div.advertisement {
    background-color: #0366d6;
    width: 200px; /* Match sidebar width */
    min-height: 300px;
    height: auto;
}
/* Main content area styling */
div.content {
    margin-left: 260px; /* Sidebar width plus extra space */
    padding: 40px;
}
</style>
</head>

<body>
  <div id="sidebar">
    <ul>
        <li><a href="/webtools/">Home</a></li>
        <div class="sidebar-section">
            <h2>Image Tools</h2>
            <ul>
                <li><a href="bbox.html">Bounding Box Annotation</a></li>
                <li><a href="polygon.html">Polygon Annotation</a></li>
            </ul>
            <h2>Time Tools</h2>
            <ul>
                <li><a href="epoch.html">Epoch Converter</a></li>
            </ul>
        </div>

   <ins class="adsbygoogle"
        style="display:block"
        data-ad-format="autorelaxed"
        data-ad-client="ca-pub-7444078748382174"
        data-ad-slot="4896466399"></ins>
   <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
   </script>
    </ul>
    <li><a href="/webtools/privacy-policy.html">Privacy Policy</a></li>
</div>
  <div class="content">
    <h1>Bounding Box Drawing on Image</h1>
    <!-- Image selection and paste -->
    <input type="file" id="fileInput" accept="image/*">
    <input type="text" id="urlinput" placeholder="Or paste image URL here">
    <p>Or paste an image from the clipboard (Ctrl+V/Cmd+V anywhere on the page).</p>
    <p>This site is pure locally, no image is uploaded</p>

    <!-- Container for the image and bounding boxes (initially hidden) -->
    <div id="container">
      <img id="image" src="" alt="Your Image" draggable="false">
    </div>

    <!-- Display full image size -->
    <p id="imgSize"></p>
    <!-- Display click coordinates -->
    <p id="clickCoords">Click coordinates: </p>
    <!-- Display box coordinates -->
    <textarea id="boxCoords" readonly class="readbox" rows="3">Box coordinates: </textarea>

    <!-- Controls for bounding box via input -->
    <p>
      Enter bounding box coordinates (format: x1,y1,x2,y2):
      <textarea type="text" id="coordInput" placeholder="x1,y1,x2,y2"></textarea>
      <button id="drawBoxBtn">Draw Box</button>
      <button id="clearBoxesBtn">Clear Boxes</button>
    </p>
    <div class="explanation">
      <h2>How to Use this Tool</h2>
      <p>This tool allows you to draw and define <strong>bounding boxes</strong> on an image.  A bounding box is a rectangular area used to identify and locate objects within an image. It's commonly used in computer vision tasks like object detection and image annotation.</p>
      <p><strong>Important:</strong> This tool operates entirely within your web browser.  <strong>No images are uploaded to any server, and no data is stored.</strong> All processing happens locally on your computer, ensuring your images and the bounding box data remain private and secure.</p>


      <p><strong>Here's how to use it:</strong></p>
      <ul>
        <li>
          <strong>Load an Image:</strong> You can either upload an image file using the "Choose File" button, paste an image URL into the text field, or paste an image directly from your clipboard (Ctrl+V / Cmd+V).
        </li>
        <li>
          <strong>Draw a Bounding Box (with mouse):</strong>
          <ol>
            <li>Click and hold the left mouse button where you want to start the top-left corner of your bounding box.</li>
            <li>Drag the mouse to the bottom-right corner of the object you want to enclose.</li>
            <li>Release the mouse button. A red box will appear, representing your bounding box.</li>
          </ol>
        </li>
        <li>
          <strong>Draw a Bounding Box (with coordinates):</strong>
          <ol>
            <li>Enter the coordinates of the top-left (x1, y1) and bottom-right (x2, y2) corners of the bounding box in the text area provided. Use the format:  <code>x1,y1,x2,y2</code>.  Coordinates can be absolute pixel values or relative values (normalized to the range \[0, 1]).</li>
            <li>Click the "Draw Box" button.</li>
          </ol>
        </li>
        <li>
          <strong>View Coordinates:</strong>  The tool will display the bounding box's coordinates (x1, y1, x2, y2), both in absolute pixel values and relative values (normalized to the image's width and height). It also displays width and height.
        </li>
        <li>
          <strong>Clear Boxes:</strong> Use the "Clear Boxes" button to remove all drawn bounding boxes from the image.
        </li>

      </ul>
    </div>
  </div>

  <script>
    const fileInput = document.getElementById('fileInput');
    const urlInput = document.getElementById('urlinput');
    const image = document.getElementById('image');
    const container = document.getElementById('container');
    const imgSizeDisplay = document.getElementById('imgSize');
    const clickCoordsDisplay = document.getElementById('clickCoords');
    const boxCoordsDisplay = document.getElementById('boxCoords');
    const coordInput = document.getElementById('coordInput');
    const drawBoxBtn = document.getElementById('drawBoxBtn');
    const clearBoxesBtn = document.getElementById('clearBoxesBtn');

    let isDrawing = false;
    let startX = 0;
    let startY = 0;
    let currentOverlay = null;
    let scale = 1; // Scale factor: display size / natural size

    // Load and display image from a file or blob
    function loadImage(file) {
      const reader = new FileReader();
      reader.onload = function (e) {
        clearBoxes();
        image.src = e.target.result;
      };
      reader.readAsDataURL(file);
    }

    // Handle file selection
    fileInput.addEventListener('change', function (e) {
      const file = e.target.files[0];
      if (file) {
        loadImage(file);
      }
    });
    urlInput.addEventListener('input', function (e) {
      const url = e.target.value;
      if (url) {
        // Validate URL and load image
        try {
          new URL(url); // Check if it's a valid URL
          image.src = url;
        } catch (err) {
          alert('Invalid URL. Please enter a valid image URL.');
        }
      }
    });
    // Handle pasting image from clipboard
    window.addEventListener('paste', function (e) {
      const items = e.clipboardData.items;
      for (let i = 0; i < items.length; i++) {
        if (items[i].type.indexOf("image") !== -1) {
          const blob = items[i].getAsFile();
          loadImage(blob);
          break;
        }
      }
    });

    // When image loads, compute scale factor and set display dimensions (max 640x640)
    image.addEventListener('load', function () {
      const naturalWidth = image.naturalWidth;
      const naturalHeight = image.naturalHeight;
      scale = Math.min(640 / naturalWidth, 640 / naturalHeight, 1);
      const displayWidth = naturalWidth * scale;
      const displayHeight = naturalHeight * scale;
      container.style.width = displayWidth + 'px';
      container.style.height = displayHeight + 'px';
      image.style.width = displayWidth + 'px';
      image.style.height = displayHeight + 'px';
      imgSizeDisplay.textContent = 'Image size (full resolution): ' + naturalWidth + ' x ' + naturalHeight;
      container.style.display = "inline-block";
    });

    
    container.addEventListener('mousemove', function (e) {
      const rect = container.getBoundingClientRect();
      const dispX = e.clientX - rect.left;
      const dispY = e.clientY - rect.top;
      // Convert to full image coordinates.
      const fullX = dispX / scale;
      const fullY = dispY / scale;
      const relX = fullX / image.naturalWidth;
      const relY = fullY / image.naturalHeight;
      clickCoordsDisplay.textContent = 'Mouse: Absolute: ' + Math.round(fullX) + ', ' + Math.round(fullY) +
        '\nRelative: ' + relX.toFixed(3) + ', ' + relY.toFixed(3);
    })

    // Mouse events for drawing a bounding box
    container.addEventListener('mousedown', function (e) {
      if (e.button !== 0) return; // left click only
      isDrawing = true;
      const rect = container.getBoundingClientRect();
      startX = e.clientX - rect.left;
      startY = e.clientY - rect.top;
      currentOverlay = document.createElement('div');
      currentOverlay.classList.add('overlay');
      currentOverlay.style.left = startX + 'px';
      currentOverlay.style.top = startY + 'px';
      currentOverlay.style.width = '0px';
      currentOverlay.style.height = '0px';
      container.appendChild(currentOverlay);
    });

    container.addEventListener('mousemove', function (e) {
      if (!isDrawing) return;
      const rect = container.getBoundingClientRect();
      const currentX = e.clientX - rect.left;
      const currentY = e.clientY - rect.top;
      const x = Math.min(startX, currentX);
      const y = Math.min(startY, currentY);
      const width = Math.abs(currentX - startX);
      const height = Math.abs(currentY - startY);
      currentOverlay.style.left = x + 'px';
      currentOverlay.style.top = y + 'px';
      currentOverlay.style.width = width + 'px';
      currentOverlay.style.height = height + 'px';
    });

    container.addEventListener('mouseup', function (e) {
      if (!isDrawing) return;
      isDrawing = false;
      const rect = container.getBoundingClientRect();
      const endX = e.clientX - rect.left;
      const endY = e.clientY - rect.top;
      const dispX1 = Math.min(startX, endX);
      const dispY1 = Math.min(startY, endY);
      const dispX2 = Math.max(startX, endX);
      const dispY2 = Math.max(startY, endY);
      // Convert display coordinates to full image coordinates
      const absX1 = dispX1 / scale;
      const absY1 = dispY1 / scale;
      const absX2 = dispX2 / scale;
      const absY2 = dispY2 / scale;
      // Compute relative coordinates (with 3 digits)
      const relX1 = absX1 / image.naturalWidth;
      const relY1 = absY1 / image.naturalHeight;
      const relX2 = absX2 / image.naturalWidth;
      const relY2 = absY2 / image.naturalHeight;
      const width = Math.abs(absX2 - absX1);
      const height = Math.abs(absY2 - absY1);
      const relWidth = width / image.naturalWidth;
      const relHeight = height / image.naturalHeight;
      boxCoordsDisplay.textContent = 'Box coordinates: Absolute: \n' +
        Math.round(absX1) + ', ' + Math.round(absY1) + ', ' + Math.round(absX2) + ', ' + Math.round(absY2) + " width: " + Math.round(width) + " height: " + Math.round(height) + " size: ("+ Math.round(width) + "x" + Math.round(height) + ")" +
        '\nRelative: ' + relX1.toFixed(3) + ', ' + relY1.toFixed(3) + ', ' + relX2.toFixed(3) + ', ' + relY2.toFixed(3) + " width: " + relWidth.toFixed(3) + " height: " + relHeight.toFixed(3)  + " size: (" + relWidth.toFixed(3)  + "x" + relHeight.toFixed(3)  + ")";
    });
    function drawbbox(inputVal) {
      const parts = inputVal.split(',').map(s => parseFloat(s.trim()));
      if (parts.length !== 4 || parts.some(isNaN)) {
        alert('Please enter valid coordinates in the format: x1,y1,x2,y2');
        return;
      }
      let [x1, y1, x2, y2] = parts;
      // If all values are in [0,1], treat them as ratios
      if (x1 >= 0 && x1 <= 1 &&
        y1 >= 0 && y1 <= 1 &&
        x2 >= 0 && x2 <= 1 &&
        y2 >= 0 && y2 <= 1) {
        x1 *= image.naturalWidth;
        y1 *= image.naturalHeight;
        x2 *= image.naturalWidth;
        y2 *= image.naturalHeight;
      }
      // Compute display coordinates
      const dispX1 = Math.min(x1, x2) * scale;
      const dispY1 = Math.min(y1, y2) * scale;
      const dispX2 = Math.max(x1, x2) * scale;
      const dispY2 = Math.max(y1, y2) * scale;
      const width = dispX2 - dispX1;
      const height = dispY2 - dispY1;

      const overlay = document.createElement('div');
      overlay.classList.add('overlay');
      overlay.style.left = dispX1 + 'px';
      overlay.style.top = dispY1 + 'px';
      overlay.style.width = width + 'px';
      overlay.style.height = height + 'px';
      container.appendChild(overlay);
    }
    // Draw a bounding box from input coordinates.
    // Accepts either absolute pixel coordinates or ratios (if all values are between 0 and 1).
    drawBoxBtn.addEventListener('click', function () {
      const inputVal = coordInput.value;
      for (l of inputVal.split("\n")) if (l.trim().length > 0) drawbbox(l);
    });

    function clearBoxes() {
      const overlays = container.querySelectorAll('.overlay');
      overlays.forEach(overlay => overlay.remove());
      boxCoordsDisplay.textContent = 'Box coordinates: ';
    }

    // Clear all bounding boxes
    clearBoxesBtn.addEventListener('click', clearBoxes);
  </script>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0274KCKK9Y"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0274KCKK9Y');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7444078748382174"
     crossorigin="anonymous"></script>
</body>

</html>